const Discord = require("discord.js");
const client = new Discord.Client();
var prefix = "A!";
client.on('ready', () => {
   console.log(`----------------`);
      console.log(`Desert Bot- Script By : EX Clan`);
        console.log(`----------------`);
      console.log(`ON ${client.guilds.size} Servers '     Script By : EX Clan ' `);
    console.log(`----------------`);
  console.log(`Logged in as ${client.user.tag}!`);
client.user.setGame(`A!bc ||By - ! A||`,"http://twitch.tv/Death Shop")
client.user.setStatus("dnd")
});

client.on('message', async message => {
  let args = message.content.slice(3);
  if(message.content.startsWith(prefix + 'bc')) {
    if(!message.guild.members.get(message.author.id).hasPermission('ADMINISTRATOR')) return message.channel.send('Required Administrator Permission')
       message.guild.members.forEach(m => {
      
      m.send(args.replace('[user]', m).replace('[server]', m.guild.name).replace('[sender]', message.author.username))
    })
  }
})




client.on("message", message => {
            if(message.content.startsWith("A!ØªÙ‚Ø¯ÙŠÙ…")) {
        if(!message.channel.guild) return;
                if(message.author.bot) return;
        let channel = message.guild.channels.find("id", "553893486244659202")
            if(channel) {
            message.channel.send( message.member + ', **:timer:**').then( (m) =>{
              m.edit( message.member + ', **Ø§Ø³Ù…Ùƒ Ø§Ù„Ø­Ù‚ÙŠÙ‚Ù‰  âœ**' )
              m.channel.awaitMessages( m1 => m1.author == message.author,{ maxMatches: 1, time: 60*1000 } ).then ( (m1) => {
                  m1 = m1.first();
                  var name = m1.content;
                  m1.delete();
                  m.edit(message.member + ', **:timer:**').then( (m) =>{
                      m.edit( message.member + ', **Ø¹Ù†Ø¯Ùƒ ÙƒØ§Ù… Ø³Ù†Ø© ğŸ“**' )
                      setTimeout(() => {
                        m.delete()
                      }, 10000);
                      m.channel.awaitMessages( m2 => m2.author == message.author,{ maxMatches: 1, time: 60*1000 } ).then ( (m2) => {
                          m2 = m2.first();
                          var age = m2.content;
                          m2.delete()
                          message.channel.send( message.member + ', **:timer:**').then( (m) =>{
                            m.edit( message.member + ', **Ù‡Ù„ ØªØªÙØ§Ø¹Ù„ ÙÙŠ Ø§Ù„Ø±ØªØ¨Ù‡ğŸ™**' )
                            setTimeout(() => {
                              m.delete()
                            }, 10000);
                            m.channel.awaitMessages( m1 => m1.author == message.author,{ maxMatches: 1, time: 60*1000 } ).then ( (m3) => {
                                m3 = m3.first();
                                var ask = m3.content;
                                m3.delete();
                                message.channel.send( message.member + ', **:timer:**').then( (m) =>{
                                  m.edit( message.member + ', **Ù‡Ù„ Ø³ØªØ­ØªØ±Ù… Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ† ØŸ ğŸ“‘**' )
                                  setTimeout(() => {
                                    m.delete()
                                  }, 10000);
                                  m.channel.awaitMessages( m1 => m1.author == message.author,{ maxMatches: 1, time: 60*1000 } ).then ( (m4) => {
                                      m4 = m4.first();
                                      var ask2 = m4.content;
                                      m4.delete();
                                      message.channel.send( message.member + ', **:timer:**').then( (m) =>{
                                        m.edit( message.member + ', **Ù„Ù…Ø§Ø°Ø§ ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙ†Ø§ Ø§Ù† Ù†Ù‚Ø¨Ù„Ùƒ ØŸ Ø§Ø¹Ø·Ù†Ø§ Ø³Ø¨Ø¨Ø§Ù‹ ÙˆØ¬ÙŠÙ‡Ø§Ù‹ ğŸ¤”**' )
                                        m.channel.awaitMessages( m1 => m1.author == message.author,{ maxMatches: 1, time: 60*1000 } ).then ( (m5) => {
                                            m5 = m5.first();
                                            var ask3 = m5.content;
                                            m5.delete();
                      m.edit(message.member + ', **....Ø¬Ø§Ø±Ù‰ Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**').then( (mtime)=>{
                        setTimeout(() => {
                          let embed = new Discord.RichEmbed()
                        .setColor('RANDOM')
                        .setTitle(`**ØªÙ‚Ø¯ÙŠÙ… Ø¹Ù„Ù‰ Ø±ØªØ¨Ù‡** [__**${message.guild.name}**__]`)
                        .addField('**`Ø§Ù„Ø§Ø³Ù…`**', `${name}` , true)
                        .addField('**`Ø§Ù„Ø¹Ù…Ø±`**', `${age}` , true)
                        .addField('**`Ù‡Ù„ Ø³ÙŠØªÙØ§Ø¹Ù„ ØŸ`**',`${ask}`)
                        .addField('**`Ù‡Ù„ Ø³ÙŠØ­ØªØ±Ù… Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ† ØŸ`**',`${ask2}`)
                        .addField('**`Ù„Ù…Ø§Ø°Ø§ ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙ†Ø§ Ù‚Ø¨ÙˆÙ„Ù‡ ØŸ`**',`${ask3}`)
                        .setFooter(message.author.username,'https://images-ext-2.discordapp.net/external/JpyzxW2wMRG2874gSTdNTpC_q9AHl8x8V4SMmtRtlVk/https/orcid.org/sites/default/files/files/ID_symbol_B-W_128x128.gif')
                        channel.send(embed)
                        }, 2500);
                        setTimeout(() => {
                          mtime.delete()
                        }, 3000);
 
                  })
                })
                })
              })
            })
          })
        })
        })
              })
          })
        })
    }
}
        });

client.login(process.env.BOT_TOKEN);// Ù„Ø§ ØªØºÙŠØ± ÙÙŠÙ‡Ø§ Ø´ÙŠØ¡
